set myhour to get the (hours of (current date)) as integer
set greets to ""

-- say greetings according to time
if (myhour ≥ 0) and (myhour ≤ 4) then
	set greets to "Good Day!"
else if (myhour ≥ 5) and (myhour ≤ 7) then
	set greets to "It's early in the morning!"
else if (myhour ≥ 8) and (myhour ≤ 11) then
	set greets to "Good Morning!"
else if (myhour ≥ 12) and (myhour ≤ 16) then
	set greets to "Good Afternoon!"
else
	set greets to "Good Evening"
end if

set myhour2 to get the (hours of (current date)) as integer
set myminutes to get the (minutes of (current date)) as string

-- add a leading zero to minutes
set minuteslength to (length of myminutes)
if minuteslength < 2 then
	set myminutes to "0" & myminutes
end if

--set AM/PM
if (myhour2 > 11) then
	set myminutes to myminutes & "PM"
else
	set myminutes to myminutes & "AM"
end if

-- change to 12-hour format
if (myhour2 > 12) then
	set myhour2 to myhour2 - 12
end if


-- say the time
-- the colon makes it say, eg, 20 : 45 instead of 2 thousand 45

say greets & ". " & "The time is " & myhour2 & ":" & myminutes
quit
